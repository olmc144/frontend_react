{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LILIANASC\\\\Desktop\\\\OSCAR\\\\Prueba\\\\mi-prueba\\\\src\\\\views\\\\Search\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport SearchBox from \"./Components/SearchBox\";\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport AppBar from '@mui/material/AppBar';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport ManageSearchIcon from '@mui/icons-material/ManageSearch';\nimport Grid from '@mui/material/Grid'; //import data from \"../../data/user.json\";\n\nimport \"./style.css\";\nimport SearchResults from \"./Components/SearchResults\";\nimport ListHistorial from \"./Components/ListHistorial\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 240;\nexport default function Search() {\n  _s();\n\n  const [isAtTop, setIsAtTop] = useState(false);\n  const [noticias, setNoticias] = useState([]);\n  const [ciudades, setCiudades] = useState([]);\n  const [historial, setHistorial] = useState([]);\n  const [mensaje, setMensaje] = useState(\"\");\n  const [showmsj, setShowmsj] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  const handleCloseOpenSearch = () => {\n    setIsAtTop(false);\n    setCiudades([]);\n    setNoticias([]);\n    setMensaje(\"\");\n    setShowmsj(false);\n  };\n\n  const handleBuscarCiudad = searchText => {\n    setOpen(true);\n    setIsAtTop(true);\n\n    const getCiudades = async () => {\n      try {\n        const response = await fetch(\"https://localhost:44338/BuscarCiudades/City/\" + searchText);\n        const data_ = await response.json();\n        setCiudades(data_.current_weather);\n        setNoticias(data_.news.value);\n        setMensaje(\"\");\n        setShowmsj(false);\n        setOpen(false);\n      } catch (err) {\n        setCiudades([]);\n        setNoticias([]);\n        console.error(err);\n        setShowmsj(true);\n        setMensaje(\"NO SE ENCONTRARON RESULTADOS\");\n        setOpen(false);\n      }\n    };\n\n    getCiudades().catch(null);\n  };\n\n  const handleBuscarHistorial = () => {\n    const getHistorial = async () => {\n      try {\n        const response = await fetch(\"https://localhost:44338/BuscarCiudades/Historial\");\n        const data_h = await response.json();\n        setHistorial(data_h);\n      } catch (err) {\n        setHistorial([]);\n        console.error(err);\n      }\n    };\n\n    getHistorial().catch(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      sx: {\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          component: \"div\",\n          children: \"Clima Y Noticias\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      variant: \"permanent\",\n      sx: {\n        width: drawerWidth,\n        flexShrink: 0,\n        [`& .MuiDrawer-paper`]: {\n          width: drawerWidth,\n          boxSizing: 'border-box'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          overflow: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(List, {\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            button: \"Inicio\",\n            onClick: handleCloseOpenSearch,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(DashboardIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Inicio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n            button: \"Historial\",\n            onClick: handleBuscarHistorial,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: /*#__PURE__*/_jsxDEV(ManageSearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: \"Historial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"main\",\n      sx: {\n        flexGrow: 2,\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `search ${isAtTop ? \"search--top\" : \"search--center\"}`,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 4,\n            children: /*#__PURE__*/_jsxDEV(SearchBox, {\n              onSearch: handleBuscarCiudad,\n              onClose: handleCloseOpenSearch,\n              isSearching: isAtTop\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n            sx: {\n              color: '#fff',\n              zIndex: theme => theme.zIndex.drawer + 1\n            },\n            open: open //onClick={handleClose}\n            ,\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n            results: ciudades,\n            isSearching: isAtTop,\n            lnoticias: noticias,\n            mensajerror: mensaje,\n            showAlert: showmsj\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Search, \"FEiT4ORKJsUrOBBA995f10+t69w=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/LILIANASC/Desktop/OSCAR/Prueba/mi-prueba/src/views/Search/index.js"],"names":["useEffect","useState","useContext","SearchBox","Backdrop","CircularProgress","Box","Drawer","AppBar","CssBaseline","Toolbar","List","Typography","Divider","ListItem","ListItemIcon","ListItemText","DashboardIcon","ManageSearchIcon","Grid","SearchResults","ListHistorial","drawerWidth","Search","isAtTop","setIsAtTop","noticias","setNoticias","ciudades","setCiudades","historial","setHistorial","mensaje","setMensaje","showmsj","setShowmsj","open","setOpen","handleCloseOpenSearch","handleBuscarCiudad","searchText","getCiudades","response","fetch","data_","json","current_weather","news","value","err","console","error","catch","handleBuscarHistorial","getHistorial","data_h","display","zIndex","theme","drawer","width","flexShrink","boxSizing","overflow","flexGrow","p","color"],"mappings":"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","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport SearchBox from \"./Components/SearchBox\";\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Box from '@mui/material/Box';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport List from '@mui/material/List';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport ManageSearchIcon from '@mui/icons-material/ManageSearch';\r\nimport Grid from '@mui/material/Grid';\r\n\r\n//import data from \"../../data/user.json\";\r\nimport \"./style.css\";\r\nimport SearchResults from \"./Components/SearchResults\";\r\nimport ListHistorial from \"./Components/ListHistorial\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nexport default function Search() { \r\n    const [isAtTop, setIsAtTop] = useState(false);\r\n    const [noticias, setNoticias] = useState([]);\r\n    const [ciudades, setCiudades] = useState([]);\r\n    const [historial, setHistorial] = useState([]);\r\n    const [mensaje, setMensaje] = useState(\"\");\r\n    const [showmsj, setShowmsj] = useState(false);    \r\n\r\n    const [open, setOpen] = useState(false);    \r\n\r\n    const handleCloseOpenSearch = () => \r\n    {\r\n        setIsAtTop(false);\r\n        setCiudades([]);\r\n        setNoticias([]);\r\n        setMensaje(\"\");\r\n        setShowmsj(false);\r\n    };     \r\n        \r\n    const handleBuscarCiudad = (searchText) => {\r\n        setOpen(true);\r\n        setIsAtTop(true);   \r\n        const getCiudades = async () => {\r\n                    try{\r\n                        const response = await fetch(\"https://localhost:44338/BuscarCiudades/City/\"+searchText)\r\n                        const data_ = await response.json();\r\n                        setCiudades(data_.current_weather); \r\n                        setNoticias(data_.news.value);\r\n                        setMensaje(\"\");\r\n                        setShowmsj(false);\r\n                        setOpen(false);                        \r\n                    } catch(err){                        \r\n                        setCiudades([]);\r\n                        setNoticias([]);\r\n                        console.error(err);\r\n                        setShowmsj(true);\r\n                        setMensaje(\"NO SE ENCONTRARON RESULTADOS\");\r\n                        setOpen(false);\r\n                    }                     \r\n                };                             \r\n                getCiudades().catch(null);\r\n    };\r\n\r\n\r\n    const handleBuscarHistorial = () => {      \r\n      const getHistorial = async () => {\r\n                  try{\r\n                      const response = await fetch(\"https://localhost:44338/BuscarCiudades/Historial\")\r\n                      const data_h = await response.json();\r\n                      setHistorial(data_h);                       \r\n                  } catch(err){                        \r\n                      setHistorial([]);                      \r\n                      console.error(err);                      \r\n                  }                     \r\n              };                             \r\n              getHistorial().catch(null);\r\n  };\r\n\r\n    \r\n    return (      \r\n        <Box sx={{ display: 'flex' }}>         \r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" noWrap component=\"div\">\r\n            Clima Y Noticias\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        sx={{\r\n          width: drawerWidth,\r\n          flexShrink: 0,\r\n          [`& .MuiDrawer-paper`]: { width: drawerWidth, boxSizing: 'border-box' },\r\n        }}\r\n      >\r\n        <Toolbar />\r\n        <Box sx={{ overflow: 'auto' }}>\r\n          <List>             \r\n            <ListItem button=\"Inicio\" onClick={handleCloseOpenSearch}>\r\n                <ListItemIcon>\r\n                  <DashboardIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Inicio\" />\r\n              </ListItem>   \r\n              <ListItem button=\"Historial\" onClick={handleBuscarHistorial}>\r\n                <ListItemIcon>\r\n                  <ManageSearchIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Historial\" />\r\n              </ListItem>       \r\n          </List>          \r\n        </Box>\r\n      </Drawer>\r\n      <Box component=\"main\" sx={{ flexGrow: 2, p: 3 }}>\r\n        <Toolbar /> \r\n        <Grid container spacing={1}>                 \r\n        <div className={`search ${isAtTop ? \"search--top\" : \"search--center\"}`}>\r\n          <Grid item xs={4}>\r\n            <SearchBox \r\n            onSearch={handleBuscarCiudad}\r\n            onClose={handleCloseOpenSearch}\r\n            isSearching={isAtTop}\r\n            />\r\n            \r\n            </Grid>            \r\n            <Backdrop\r\n                sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n                open={open}\r\n                //onClick={handleClose}\r\n            >\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n            <SearchResults results={ciudades} isSearching={isAtTop} lnoticias={noticias} mensajerror={mensaje} showAlert={showmsj}/>           \r\n        </div>         \r\n        </Grid>     \r\n      </Box>\r\n    </Box>            \r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}